import{r as o,j as r,a as x,d as n,s as h}from"./app-de5a15ba.js";import"./Dropdown-e69e6697.js";import j from"./DeleteUserForm-add858e1.js";import u from"./UpdatePasswordForm-7d6e17ce.js";import f from"./UpdateProfileInformationForm-d6d503f8.js";import{D as g}from"./DefaultLayout-b1f6c423.js";import{e as P}from"./sanity.queries-304d4c75.js";import"./transition-fdd3a88f.js";import"./TextInput-b8b02f6b.js";import"./InputLabel-c077ec45.js";import"./PrimaryButton-e18b8616.js";import"./Footer.style-2f8bdf2a.js";const e=h.article`
    padding: 1rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
`;function F({mustVerifyEmail:c,status:d,orders:i}){const[a,l]=o.useState([]),[b,m]=o.useState([]),p=Object.groupBy(i,({order_id:s})=>s);return Array.from(new Set(i.flatMap(s=>s.product_id))),o.useEffect(()=>{P().then(s=>{m(s)}).catch(s=>console.error("Error fetching products:",s)),l(p)},[]),console.log(a),r.jsxs(g,{children:[r.jsx(x,{title:"Profile"}),r.jsx("h1",{children:"Profile"}),r.jsxs("section",{children:[r.jsx(n,{href:route("logout"),as:"button",method:"post",children:"Log out"}),r.jsxs("div",{children:[r.jsxs(e,{children:[r.jsx("h2",{children:"Previous Orders"}),Object.values(a).map(s=>r.jsxs("div",{children:[r.jsxs("h3",{children:["Order ID: ",s[0].order_id]}),s.map(t=>r.jsxs("div",{children:[r.jsxs("p",{children:["Product Id: ",t.product_id]}),r.jsxs("p",{children:["Total Cost: ",t.price," SEK"]})]},t.id))]},s[0].order_id))]}),r.jsx(e,{children:r.jsx(f,{mustVerifyEmail:c,status:d,className:"max-w-xl"})}),r.jsx(e,{children:r.jsx(u,{className:"max-w-xl"})}),r.jsx(e,{children:r.jsx(j,{className:"max-w-xl"})})]})]})]})}export{F as default};
