import{r as o,j as r,a as x,d as n,s as h}from"./app-6a7adc42.js";import"./Dropdown-421a0f8a.js";import j from"./DeleteUserForm-11debf4a.js";import u from"./UpdatePasswordForm-530fc398.js";import f from"./UpdateProfileInformationForm-aafc2dc1.js";import{D as g}from"./DefaultLayout-d424f08f.js";import{e as P}from"./sanity.queries-2c3daf83.js";import"./transition-7b79fe97.js";import"./TextInput-12854d33.js";import"./InputLabel-2de9d694.js";import"./PrimaryButton-97faea87.js";import"./Footer.style-09068167.js";const e=h.article`
    padding: 1rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
`;function F({mustVerifyEmail:c,status:d,orders:i}){const[a,l]=o.useState([]),[b,m]=o.useState([]),p=Object.groupBy(i,({order_id:s})=>s);return Array.from(new Set(i.flatMap(s=>s.product_id))),o.useEffect(()=>{P().then(s=>{m(s)}).catch(s=>console.error("Error fetching products:",s)),l(p)},[]),console.log(a),r.jsxs(g,{children:[r.jsx(x,{title:"Profile"}),r.jsx("h1",{children:"Profile"}),r.jsxs("section",{children:[r.jsx(n,{href:route("logout"),as:"button",method:"post",children:"Log out"}),r.jsxs("div",{children:[r.jsxs(e,{children:[r.jsx("h2",{children:"Previous Orders"}),Object.values(a).map(s=>r.jsxs("div",{children:[r.jsxs("h3",{children:["Order ID: ",s[0].order_id]}),s.map(t=>r.jsxs("div",{children:[r.jsxs("p",{children:["Product Id: ",t.product_id]}),r.jsxs("p",{children:["Total Cost: ",t.price," SEK"]})]},t.id))]},s[0].order_id))]}),r.jsx(e,{children:r.jsx(f,{mustVerifyEmail:c,status:d,className:"max-w-xl"})}),r.jsx(e,{children:r.jsx(u,{className:"max-w-xl"})}),r.jsx(e,{children:r.jsx(j,{className:"max-w-xl"})})]})]})]})}export{F as default};
