import{s as p,q as w,f as m,j as l,b as h}from"./app-2342a1b4.js";import{W}from"./Footer.style-3bcf62ff.js";const g="/build/assets/WishlistAdded-b41365e2.svg",T=p.div`
  width: 100%;
  height: 100%;
`,A=({productId:s,onRemoveFromWishlist:t})=>{const{auth:e}=w().props,{wishlistItems:o,setWishlistItems:r}=m(),n=window.csrfToken;function c(){if(!e.user){window.location.href="/login";return}h.post(route("wishlist.add"),{product_id:s},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n}}).then(i=>{i.status===200?(r([...o,s]),console.log("Added to wishlist!")):console.error("Error adding product to wishlist")}).catch(i=>{console.error(i)})}function a(){if(!e.user){window.location.href="/login";return}h.post(route("wishlist.remove"),{product_id:s},{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n}}).then(i=>{if(i.status===200){const f=o.filter(u=>u!==s);r(f),console.log("Removed from wishlist!"),t&&t(s)}else console.error("Error removing product from wishlist")}).catch(i=>{console.error(i)})}function d(){o.includes(s)?a():c()}return l.jsx(T,{onClick:d,children:l.jsx("img",{src:o.includes(s)?g:W,alt:"Wishlist icon."})})};export{A};
