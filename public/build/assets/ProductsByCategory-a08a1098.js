import{r as o,j as r,d as g,s as x}from"./app-de5a15ba.js";import{c as j,d as S}from"./sanity.queries-304d4c75.js";import{D as y}from"./DefaultLayout-b1f6c423.js";import{P as C,a as P}from"./ProductCard.style-cd4c5c38.js";import{B as A}from"./Breadcrumbs.style-a7fa0fcf.js";import{S as B}from"./SortButton.style-2155c013.js";import"./Footer.style-2f8bdf2a.js";import"./AddToWishlist-0a07b26e.js";import"./ArrowDown-cbd5807a.js";const E=x.h1`
    margin-bottom: .5rem;
`;function R({wishlistItems:b}){const[c,i]=o.useState([]),[n,h]=o.useState(null),[a,m]=o.useState(""),p="/"+location.pathname.split("/").slice(-1)[0],l=location.pathname.split("/").slice(-1)[0].replace(/-/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");o.useEffect(()=>{j(p).then(t=>{i(t)}).catch(t=>console.error("Error fetching product:",t)),S(l).then(t=>{h(t)}).catch(t=>console.error("Error fetching category:",t))},[p]),o.useEffect(()=>{if(a==="alphabetical"){console.log("sort alphabetical");const t=[...c].sort((e,s)=>{const d=e.title.toUpperCase(),u=s.title.toUpperCase();return d<u?-1:d>u?1:0});i(t)}if(a==="priceAsc"){console.log("sort price ascending");const t=[...c].sort((e,s)=>e.price-s.price);i(t)}if(a==="priceDesc"){console.log("sort price descending");const t=[...c].sort((e,s)=>s.price-e.price);i(t)}},[a]);function f(t){m(t)}return r.jsx(r.Fragment,{children:r.jsxs(y,{children:[r.jsx(E,{children:l}),r.jsxs(A,{children:[r.jsx(g,{href:"/products",children:r.jsx("span",{children:"Products"})}),r.jsx("span",{children:" > "}),r.jsx("span",{children:n&&n.title})]}),r.jsx(B,{handleSort:f}),r.jsx(C,{children:c.map(t=>r.jsx(P,{product:t,showAddToCart:!0,showAddToWishlist:!0},t._id))})]})})}export{R as default};
